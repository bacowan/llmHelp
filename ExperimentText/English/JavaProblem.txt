Implement a simple system to transfer funds between two bank accounts: using the given BankAccount class, finish the given `TransferFunds` function (feel free to add code outside of the `TransferFunds` function, but do not edit the `GetBalance` or `SetBalance` methods). The TransferFunds function should subtract the amount to transfer from account_from's balance and add it to account_to's balance. The `transferFunds` function should be thread safe. Note that you should not call the `balance` member variable directly, but instead use the provided getter and setter.

package problems.sample_code_solution;

public class BankAccount {
    private int balance;

    public BankAccount(int balance) {
        this.balance = balance;
    }

    public int GetBalance() {
        try {
            int ret = this.balance;
            // simulate network delay
            Thread.sleep(1000);
            return ret;
        }
        catch (InterruptedException e) {
            return this.balance;
        }
    }
    
    public void SetBalance(int val) {
        this.balance = val;
    }
    
    public static void TransferFunds(BankAccount accountFrom, BankAccount accountTo, int amount) {
        throw new UnsupportedOperationException();
    }
}